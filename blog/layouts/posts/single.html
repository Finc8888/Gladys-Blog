{{ define "head" }}
    <!-- Google Analytics can be added here later -->
    <link rel="stylesheet" href="{{ "css/custom-posts.css" | absURL }}">
{{ end }}

{{ define "main" }}
<div class="post">
    {{ partial "post-header.html" . }}
    
    <div class="post-meta">
        <h3>üìÑ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å—Ç–µ</h3>
        <div class="meta-item">
            <span class="meta-label">üìÖ –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:</span> {{ .Date.Format "2 January 2006" }}
        </div>
        {{ if .Params.tldr }}
        <div class="meta-item">
            <span class="meta-label">üí° –ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:</span> {{ .Params.tldr }}
        </div>
        {{ end }}
        {{ if .Params.tags }}
        <div class="meta-item">
            <span class="meta-label">üè∑Ô∏è –¢–µ–≥–∏:</span>
            <div class="post-tags">
                {{ range .Params.tags }}
                    <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="tag">{{ . }}</a>
                {{ end }}
            </div>
        </div>
        {{ end }}
        <div class="meta-item">
            <span class="meta-label">‚è±Ô∏è –í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è:</span> {{ .ReadingTime }} –º–∏–Ω.
        </div>
    </div>



    <div class="post-content">
        {{ .Content }}
    </div>

    <!-- Comments section can be added here later -->
</div>

<script>


// Add copy button to code blocks
document.querySelectorAll('pre').forEach(pre => {
    const button = document.createElement('button');
    button.innerText = 'üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å';
    button.style.cssText = `
        position: absolute;
        top: 10px;
        right: 10px;
        background: #3498db;
        color: white;
        border: none;
        padding: 5px 10px;
        border-radius: 3px;
        cursor: pointer;
        font-size: 12px;
    `;
    
    pre.style.position = 'relative';
    pre.appendChild(button);
    
    button.addEventListener('click', () => {
        navigator.clipboard.writeText(pre.querySelector('code').textContent);
        button.innerText = '‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
        setTimeout(() => button.innerText = 'üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å', 2000);
    });
});

// Reading progress indicator
const progressBar = document.createElement('div');
progressBar.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    width: 0%;
    height: 3px;
    background: linear-gradient(to right, #3498db, #2ecc71);
    z-index: 9999;
    transition: width 0.1s ease;
`;
document.body.appendChild(progressBar);

window.addEventListener('scroll', () => {
    const scrolled = (window.pageYOffset / (document.body.scrollHeight - window.innerHeight)) * 100;
    progressBar.style.width = scrolled + '%';
});
</script>

{{ end }}