# =======================================================================
# Gladys Blog - Environment Configuration
# =======================================================================
# Copy this file as .env and change values to suit your needs
# The .env file should not be committed to git repository!

# =======================================================================
# BASIC SETTINGS
# =======================================================================

# Environment: development, staging, production
ENVIRONMENT=production

# Application version (used for Docker image tagging)
APP_VERSION=latest

# Your site domain
DOMAIN=blog.example.com

# Project name (used in container and image names)
PROJECT_NAME=gladys-blog

# =======================================================================
# PORTS AND NETWORK
# =======================================================================

# Port for development mode (Hugo server)
DEV_PORT=8080

# Port for production mode (Nginx)
PROD_PORT=80

# HTTPS port (if using SSL)
HTTPS_PORT=443

# Internal Hugo server port
HUGO_PORT=1313

# =======================================================================
# DOCKER SETTINGS
# =======================================================================

# Docker image name
DOCKER_IMAGE_NAME=gladys-blog

# Docker registry (leave empty for local build)
DOCKER_REGISTRY=

# Dockerfile for development
DOCKERFILE_DEV=deploy/Dockerfile

# Dockerfile for production
DOCKERFILE_PROD=deploy/Dockerfile.prod

# =======================================================================
# CONTAINER RESOURCES
# =======================================================================

# Memory limit for container
MEMORY_LIMIT=512m

# CPU limit for container (1.0 = 1 CPU core)
CPU_LIMIT=1.0

# Memory reservation
MEMORY_RESERVATION=256m

# CPU reservation
CPU_RESERVATION=0.5

# =======================================================================
# NGINX SETTINGS
# =======================================================================

# Number of Nginx worker processes (auto for auto-detection)
NGINX_WORKER_PROCESSES=auto

# Number of connections per worker
NGINX_WORKER_CONNECTIONS=1024

# Keep-alive connections timeout
NGINX_KEEPALIVE_TIMEOUT=65

# =======================================================================
# HUGO SETTINGS
# =======================================================================

# Hugo environment
HUGO_ENV=production

# Site base URL
HUGO_BASE_URL=https://blog.example.com

# Minification mode
HUGO_MINIFY=true

# Enable Git information
HUGO_ENABLE_GIT_INFO=true

# =======================================================================
# LOGGING
# =======================================================================

# Docker logging driver
LOG_DRIVER=json-file

# Maximum log file size
LOG_MAX_SIZE=10m

# Number of log files to keep
LOG_MAX_FILES=3

# Nginx logging level
NGINX_LOG_LEVEL=warn

# =======================================================================
# MONITORING AND HEALTH CHECKS
# =======================================================================

# Health check interval (seconds)
HEALTHCHECK_INTERVAL=30s

# Health check timeout
HEALTHCHECK_TIMEOUT=10s

# Number of health check retries
HEALTHCHECK_RETRIES=3

# Wait time before starting health checks
HEALTHCHECK_START_PERIOD=10s

# =======================================================================
# SECURITY
# =======================================================================

# Secret key for API endpoints (generate random string)
API_SECRET_KEY=change-me-to-random-string

# Token for cache clearing via API
CACHE_CLEAR_TOKEN=change-me-to-random-token

# Allowed IPs for administrative endpoints (comma separated)
ADMIN_ALLOWED_IPS=127.0.0.1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# =======================================================================
# CI/CD AND DEPLOYMENT
# =======================================================================

# Server host for deployment
DEPLOY_SERVER_HOST=your-server.com

# SSH user for deployment
DEPLOY_USER=deploy

# SSH port (usually 22)
SSH_PORT=22

# Path to SSH key
SSH_KEY_PATH=~/.ssh/id_rsa

# Webhook URL for notifications (Slack, Discord, etc.)
WEBHOOK_URL=

# =======================================================================
# DEVELOPMENT AND DEBUG
# =======================================================================

# Enable debug mode
DEBUG=false

# Show verbose build logs
VERBOSE_BUILD=false

# Clear Docker cache when building
NO_CACHE=false

# Development mode with hot reload
DEV_MODE=false

# =======================================================================
# BACKUP AND RESTORE
# =======================================================================

# Directory for backups
BACKUP_DIR=/var/backups/gladys-blog

# Number of backups to keep
BACKUP_RETENTION=7

# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# =======================================================================
# PERFORMANCE TUNING
# =======================================================================

# Enable gzip compression
GZIP_ENABLED=true

# Minimum file size for compression (bytes)
GZIP_MIN_LENGTH=10240

# Enable static file caching
STATIC_CACHE_ENABLED=true

# Static file cache duration
STATIC_CACHE_DURATION=1y

# HTML file cache duration
HTML_CACHE_DURATION=10m

# =======================================================================
# ADDITIONAL SETTINGS
# =======================================================================

# Timezone
TZ=Europe/Moscow

# Locale settings
LANG=en_US.UTF-8

# Encoding
LC_ALL=en_US.UTF-8

# Maximum upload file size
MAX_UPLOAD_SIZE=16M

# Enable CORS
CORS_ENABLED=false

# Allowed domains for CORS
CORS_ALLOWED_ORIGINS=*

# =======================================================================
# USAGE EXAMPLES
# =======================================================================

# Development:
# ENVIRONMENT=development
# DEV_PORT=8080
# DEBUG=true
# HUGO_ENV=development

# Staging:
# ENVIRONMENT=staging  
# PROD_PORT=8080
# DOMAIN=staging-blog.example.com
# HUGO_BASE_URL=https://staging-blog.example.com

# Production:
# ENVIRONMENT=production
# PROD_PORT=80
# DOMAIN=blog.example.com
# HUGO_BASE_URL=https://blog.example.com
# DEBUG=false